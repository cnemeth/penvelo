<h1>Listing Club Members</h1>

<table>
  <tr>
    <th>Member ID</th>
    <th>First Name</th>
    <th>Middle Initial</th>
    <th>Last Name</th>
    <th>Login Name</th>
    <th>Date Of Birth</th>
    <th>Gender</th>

    <th>Member Since</th>
    <th>Active</th>
    <th>Performance Team Member</th>
    <th>USAC License</th>
    <th>Profile</th>

    <th>Login Count</th>
    <th>Failed Login Count</th>
    <th>Last Login At</th>
    <th>Last Login IP</th>
    <th>Created At</th>
    <th>Updated At</th>
  </tr>

<% @users.each do |user| %>
  <tr>
    <td><%=h user.id %></td>
    <td><%=h user.first_name %></td>
    <td><%=h user.middle_initial %></td>
    <td><%=h user.last_name %></td>
    <td><%=h user.login %></td>
    <td><%=h user.date_of_birth %></td>
    <td><%=h user.gender %></td>

    <td><%=h user.member_since %></td>
    <td><%=h user.active %></td>
    <td><%=h user.performance_team_member %></td>
    <td><%=h user.usac_license %></td>
    <td><%=h truncate(user.profile.gsub(/<.*?>/,''), :length => 40) unless user.profile == nil %></td>

    <td><%=h user.login_count %></td>
    <td><%=h user.failed_login_count %></td>
    <td><%=h user.last_login_at %></td>
    <td><%=h user.last_login_ip %></td>
    <td><%=h user.created_at %></td>
    <td><%=h user.updated_at %></td>

    <td><%= link_to 'Show', admin_user_path(user) %></td>
    <td><%= link_to 'Edit', edit_admin_user_path(user.id) %></td>
    <td><%= link_to "Delete", admin_user_path(user), :confirm => 'Are you sure?',:method => :delete  %></td>
  </tr>
<% end %>
</table>

<p>
  <%= link_to 'Create New User', new_admin_user_path %>
</p>

